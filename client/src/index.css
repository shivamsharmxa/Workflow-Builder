@import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap');
@import 'reactflow/dist/style.css';

@tailwind base;
@tailwind components;
@tailwind utilities;

/* Assignment Requirement: Pulsating glow effect during execution */
@keyframes pulse-glow {
  0%, 100% {
    box-shadow: 0 0 0 0 rgba(192, 132, 252, 0.7),
                0 0 20px rgba(192, 132, 252, 0.4),
                inset 0 0 20px rgba(192, 132, 252, 0.1);
  }
  50% {
    box-shadow: 0 0 0 10px rgba(192, 132, 252, 0),
                0 0 40px rgba(192, 132, 252, 0.6),
                inset 0 0 30px rgba(192, 132, 252, 0.2);
  }
}

@keyframes edge-flow {
  0% {
    stroke-dashoffset: 24;
  }
  100% {
    stroke-dashoffset: 0;
  }
}

/* Node execution states */
.node-executing {
  animation: pulse-glow 2s ease-in-out infinite !important;
  border-color: #C084FC !important;
}

.node-success {
  border-color: #10B981 !important;
  box-shadow: 0 0 20px rgba(16, 185, 129, 0.3);
}

.node-error {
  border-color: #EF4444 !important;
  box-shadow: 0 0 20px rgba(239, 68, 68, 0.3);
}

/* Assignment Requirement: Animated purple edges between nodes */
.edge-executing {
  stroke: #C084FC !important;
  stroke-dasharray: 8 4;
  animation: edge-flow 1s linear infinite;
}

.react-flow__edge-path {
  transition: stroke 0.3s ease;
}

:root {
  --font-sans: 'Inter', sans-serif;
  
  /* Dark Theme Base */
  --background: 0 0% 0%; /* #000000 */
  --foreground: 0 0% 100%; /* #FFFFFF */

  /* Panels */
  --card: 240 5% 7%; /* #121212 - Right Panel */
  --card-foreground: 0 0% 100%;
  
  --popover: 240 5% 7%;
  --popover-foreground: 0 0% 100%;

  /* Primary Accent - Purple */
  --primary: 270 95% 75%; /* #C084FC */
  --primary-foreground: 0 0% 100%;

  /* Secondary */
  --secondary: 240 4% 11%; /* #1C1C1E - Node Background */
  --secondary-foreground: 0 0% 63%; /* #A0A0A0 */

  /* Muted */
  --muted: 240 4% 16%; /* #28282B - Node Header */
  --muted-foreground: 0 0% 63%;

  /* Accent/Highlight */
  --accent: 270 95% 75%;
  --accent-foreground: 0 0% 100%;

  /* Destructive */
  --destructive: 0 84% 60%;
  --destructive-foreground: 0 0% 98%;

  /* Borders */
  --border: 240 4% 16%; /* #28282B */
  --input: 240 4% 16%;
  --ring: 270 95% 75%;

  --radius: 0.5rem;
}

@layer base {
  * {
    @apply border-border;
  }
  body {
    @apply bg-background text-foreground font-sans antialiased selection:bg-primary/20 selection:text-white;
    background-color: #000000; /* Strict enforcement */
  }
  
  /* Custom Scrollbar for dark theme */
  ::-webkit-scrollbar {
    width: 6px;
    height: 6px;
  }
  ::-webkit-scrollbar-track {
    background: #0A0A0A;
  }
  ::-webkit-scrollbar-thumb {
    background: #333;
    border-radius: 3px;
  }
  ::-webkit-scrollbar-thumb:hover {
    background: #444;
  }
}

/* ReactFlow Overrides for Dark Theme */
.react-flow__edge-path {
  stroke: #444;
  stroke-width: 2;
}

.react-flow__edge.selected .react-flow__edge-path {
  stroke: #C084FC;
}

.react-flow__handle {
  background: #555;
  width: 8px;
  height: 8px;
  border: 1px solid #000;
}

.react-flow__handle:hover {
  background: #C084FC;
}

.react-flow__attribution {
  display: none;
}
